<!DOCTYPE  html>
<html lang="en">

    <head>
    
        <title>CS3380 Project | Grocery List</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="../Styles/project.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.8.1/parsley.min.js"></script> 
    </head>

    <body id="groceryListBody">
        <div class="navbar">
            <a>
                <img src="https://engineering.missouri.edu//wp-content/themes/g5plus-orion/assets/images/missouri-logo.svg">
            </a>
            <div class="dropdown">
                <button class="dropbtn">Pages 
                    <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                    <a href="/CS3380Project/User/createUser.html">Create User</a>
                    <a href="/CS3380Project/User/userList.php">User List</a>
                    <a href="/CS3380Project/User/groceryList.html">Grocery List</a>
                </div>
            </div> 
            <a href="#home" class="links">Home</a>
            <a href="#news" class="links">News</a>
        </div>
        
        <img id="contentBackground" src="https://mizzoumag.missouri.edu/wp-content/uploads/2013/11/quad_web.jpg">
        
        <div id="groceryListBox">
        
            <h1 class="boxHeader">Grocery List</h1>
            <!-- Use a script to get the JSON ingredients data, then decode and use innerHTML to print --> 
            <p id="groceryListItems"><br>Hey</p>
            
        </div>
    
        <script>
            var obj, dbParam, xmlhttp, myObj, x, txt = "";
            obj = { "table":"favoriteIngredients" };
            dbParam = JSON.stringify(obj);
            xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    myObj = JSON.parse(this.responseText);
                    for (x in myObj) {
                        txt += myObj[x].name + "<br>";
                    }
                    document.getElementById("groceryListItems").innerHTML = txt;
                }
            };
            xmlhttp.open("POST", "groceryList.php", true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); //May need to change?
            xmlhttp.send("x=" + dbParam);

        </script>
        
    </body>
</html>